<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description"
        content="Helper tool for dbt data workflow">
    <meta name="author" content="Raphael Leung">
    <link rel="icon" href="assets/favicon.ico">
    <script>
        (function (i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date(); a = s.createElement(o),
                m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
        })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-42686900-2', 'auto');
        ga('send', 'pageview');
    </script>

    <title>dbt model audit</title>

    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/clean-blog.min.css" rel="stylesheet">

    <link href='https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet'
        type='text/css'>
    <link
        href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800'
        rel='stylesheet' type='text/css'>

    <link rel="stylesheet" type="text/css" media="screen"
        href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/1.3.4/jquery.fancybox-1.3.4.css" />
    <style type="text/css">
        .center-silly {
            display: block;
            margin-left: auto;
            margin-right: auto;
            width: 80%;
            /* 20vw; */
        }
    </style>

</head>

<body>

    <script type="text/javascript" src="https://code.jquery.com/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="https://code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
    <script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/1.3.4/jquery.fancybox-1.3.4.pack.min.js"></script>

    <nav class="navbar navbar-default navbar-custom navbar-fixed-top">
        <div class="container-fluid">
            <div class="navbar-header page-scroll">
                <a class="navbar-brand" href="index.html" style="font-size: 12px;">Home page</a>
                <!-- <a class="navbar-brand" href="blog.html">Blog</a> -->
            </div>


        </div>
    </nav>

    <header class="intro-header" style="background-color: #333333">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    <div class="page-heading">
                        <h1 style="margin-top: 0px; font-size: 46px">Making dbt model audits easier</h1>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <article>
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">

                    <h2 class="section-heading">Limitation of dbt docs</h2>
                    <p>
                        <a href="https://www.getdbt.com/" target="_blank">dbt (data build tool)</a> is an open-source 
                        tool for data transforming, testing and documentation, that's easily integrated with cloud 
                        data warehouses. It's used in many ETL/ELT data stacks at the moment, including ours.
                    </p>

                    <p>
                        It contains out-of-the-box docs: <code>dbt docs generate</code>. The free text search, DAG view,
                        and documentation features are great.
                    
                        However, there are some limitations. For example, as of v1.0.1, you cannot easily search 
                        for models sharing the same primary keys.
                    </p>

                    <h2 class="section-heading">Solution</h2>
                    
                    <p>
                        We added a step <code>dbt ls --output json</code> (<a href="https://docs.getdbt.com/reference/commands/list">docs</a>)
                        to the pipeline runs. This is stored into cloud storage and surfaced via a simple web app. 

                        Ta da! The models/tests along with any defined fields like <code>unique_on</code> are now filterable. ðŸŽ‰
                    </p>
                    
                    <figure>
                        <video width="100%" controls>
                            <source src="assets/dbt_tool_wip.mp4" type="video/mp4">
                            Searching through dbt ls output
                          </video>

                        <figcaption style="font-size: 16px; text-align: center;" class="center-silly">
                                Searching through dbt ls output
                        </figcaption>
                    </figure>
                    
                    <p>
                        This tool helps the data team by making audits of models easier and also speeds up iterative development. 
                    </p>
                    <p>   
                        Tools: Node.js, Azure storage JS SDK, App service with AD authentication.
                    </p>
                </div>
            </div>
        </div>

        <br>
    </article>

    <script src="js/jquery.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/clean-blog.min.js"></script>

</body>

</html>